{"version":3,"sources":["api/apiSlice.js","components/heroesListItem/HeroesListItem.js","assets/hero_img.jpg","components/spinner/Spinner.js","components/heroesList/HeroesList.js","hooks/http.hook.js","components/heroesFilters/filtersSlice.js","store/index.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","index.js"],"names":["apiSlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getHeroes","query","providesTags","createHero","mutation","hero","url","method","body","invalidatesTags","deleteHero","id","useGetHeroesQuery","useCreateHeroMutation","useDeleteHeroMutation","HeroesListItem","elementClassName","name","description","element","onDelete","className","src","alt","style","onClick","type","aria-label","Spinner","role","HeroesList","data","heroes","isLoading","isError","activeFilter","useSelector","state","filters","filteredHeroes","useMemo","slice","filter","item","useCallback","arr","elements","length","CSSTransition","timeout","classNames","map","props","TransitionGroup","component","useHttp","request","a","headers","fetch","response","ok","Error","status","json","filtersAdapter","createEntityAdapter","initialState","getInitialState","filtersLoadingStatus","fetchFilters","createAsyncThunk","filtersSlice","createSlice","reducers","filtersChanged","action","payload","extraReducers","addCase","pending","fulfilled","setAll","rejected","addDefaultCase","actions","reducer","selectAll","getSelectors","filtersFetching","filtersFetched","filtersFetchingError","stringMiddleware","next","store","configureStore","middleware","getDefaultMiddleware","concat","devTools","process","HeroesAddForm","useState","heroName","setHeroName","heroDescr","setHeroDescr","heroElement","setHeroElement","getState","onSubmit","e","preventDefault","newHero","uuidv4","unwrap","htmlFor","required","placeholder","value","onChange","target","label","renderFilters","HeroesFilters","dispatch","useDispatch","useEffect","btnClass","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4RAEaA,EAAWC,YAAU,CAChCC,YAAa,MACbC,UAAWC,YAAe,CAACC,QAAS,0CACpCC,SAAU,CAAC,UACXC,UAAW,SAAAC,GAAO,MAAK,CACrBC,UAAWD,EAAQE,MAAM,CACvBA,MAAO,iBAAM,UACbC,aAAc,CAAC,YAEjBC,WAAYJ,EAAQK,SAAS,CAC3BH,MAAO,SAAAI,GAAI,MAAK,CACdC,IAAK,UACLC,OAAQ,OACRC,KAAMH,IAERI,gBAAiB,CAAC,YAEpBC,WAAYX,EAAQK,SAAS,CAC3BH,MAAO,SAAAU,GAAE,MAAK,CACZL,IAAI,WAAD,OAAaK,GAChBJ,OAAQ,WAEVE,gBAAiB,CAAC,gBAMVG,EAAmErB,EAAnEqB,kBAAmBC,EAAgDtB,EAAhDsB,sBAAuBC,EAAyBvB,EAAzBuB,sB,OCazCC,EAzCQ,SAAC,GAA4C,IAE5DC,EAFiBC,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAIjD,OAAQD,GACJ,IAAK,OACDH,EAAmB,wBACnB,MACJ,IAAK,QACDA,EAAmB,yBACnB,MACJ,IAAK,OACDA,EAAmB,yBACnB,MACJ,IAAK,QACDA,EAAmB,2BACnB,MACJ,QACIA,EAAmB,yBAG3B,OACI,qBACIK,UAAS,kDAA6CL,GAD1D,UAEI,qBAAKM,IC1BF,soHD2BED,UAAU,0BACVE,IAAI,eACJC,MAAO,CAAC,UAAa,WAC1B,sBAAKH,UAAU,YAAf,UAEI,oBAAIA,UAAU,aAAd,SAA4BJ,IAC5B,mBAAGI,UAAU,YAAb,SAA0BH,OAE9B,sBAAMO,QAASL,EACXC,UAAU,wFADd,SAEI,wBAAQK,KAAK,SAASL,UAAU,sBAAsBM,aAAW,gBE7BlEC,EARC,WACZ,OACI,qBAAKP,UAAU,8BAA8BQ,KAAK,SAAlD,SACI,sBAAMR,UAAU,kBAAhB,2BCwEGS,G,MAhEI,WAAO,IAAD,EAKjBlB,IALiB,IAEjBmB,KAAMC,OAFW,MAEF,GAFE,EAGjBC,EAHiB,EAGjBA,UACAC,EAJiB,EAIjBA,QAJiB,EAOApB,IAAdJ,EAPc,oBASfyB,EAAeC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQH,gBAElDI,EAAiBC,mBAAQ,WAC3B,IAAMD,EAAiBP,EAAOS,QAE9B,MAAqB,QAAjBN,EACOI,EAEAA,EAAeG,QAAO,SAAAC,GAAI,OAAIA,EAAKxB,UAAYgB,OAE3D,CAACH,EAAQG,IAENf,EAAWwB,uBAAY,SAACjC,GAE1BD,EAAWC,KAEZ,IAEH,GAAIsB,EACA,OAAO,cAAC,EAAD,IACJ,GAAIC,EACP,OAAO,oBAAIb,UAAU,mBAAd,mGAGX,IAA0BwB,EAuBpBC,EAtBiB,KADGD,EAuBQN,GAtBtBQ,OAEA,cAACC,EAAA,EAAD,CACIC,QAAS,EACTC,WAAW,OAFf,SAGI,oBAAI7B,UAAU,mBAAd,gGAKLwB,EAAIM,KAAI,YAAqB,IAAnBxC,EAAkB,EAAlBA,GAAOyC,EAAW,sBAC/B,OACI,cAACJ,EAAA,EAAD,CAEIC,QAAS,IACTC,WAAW,OAHf,SAII,cAAC,EAAD,2BAAqBE,GAArB,IAA4BhC,SAAU,kBAAMA,EAAST,QAHhDA,MAUrB,OACI,cAAC0C,EAAA,EAAD,CAAiBC,UAAU,KAA3B,SACKR,M,gDCtEAS,EAAU,WAiBnB,MAAO,CAACC,QAhBK,uCAAG,WAAOlD,GAAP,mCAAAmD,EAAA,6DAAYlD,EAAZ,+BAAqB,MAAOC,EAA5B,+BAAmC,KAAMkD,EAAzC,+BAAmD,CAAC,eAAgB,oBAApE,kBAEeC,MAAMrD,EAAK,CAACC,SAAQC,OAAMkD,YAFzC,WAEFE,EAFE,QAIMC,GAJN,sBAKE,IAAIC,MAAJ,0BAA6BxD,EAA7B,qBAA6CsD,EAASG,SALxD,wBAQWH,EAASI,OARpB,eAQFjC,EARE,yBAUDA,GAVC,uGAAH,wDCEXkC,EAAiBC,cAEjBC,EAAeF,EAAeG,gBAAgB,CAClDC,qBAAsB,OACtBlC,aAAc,QAGHmC,EAAeC,YAC1B,wBACA,WAEE,OAAOf,EADWD,IAAXC,SACQ,oDAIbgB,EAAeC,YAAY,CAC/BxD,KAAM,UACNkD,eACAO,SAAU,CACRC,eAAgB,SAACtC,EAAOuC,GACtBvC,EAAMF,aAAeyC,EAAOC,UAGhCC,cAAe,SAAC/E,GACdA,EACGgF,QAAQT,EAAaU,SAAS,SAAA3C,GAAUA,EAAMgC,qBAAuB,aACrEU,QAAQT,EAAaW,WAAW,SAAC5C,EAAOuC,GACvCvC,EAAMgC,qBAAuB,OAC7BJ,EAAeiB,OAAO7C,EAAOuC,EAAOC,YAErCE,QAAQT,EAAaa,UAAU,SAAA9C,GAC9BA,EAAMgC,qBAAuB,WAE9Be,gBAAe,kBAIfC,EAAoBb,EAApBa,QAEQC,EAFYd,EAAXc,QAIFC,EAAatB,EAAeuB,cAAa,SAAAnD,GAAK,OAAIA,EAAMC,WAAxDiD,UAMZZ,GACEU,EAJFI,gBAIEJ,EAHFK,eAGEL,EAFFM,qBAEEN,EADFV,gBC9CIiB,EAAmB,kBAAM,SAACC,GAAD,OAAU,SAACjB,GACxC,OACSiB,EADa,kBAAXjB,EACI,CACXlD,KAAMkD,GAGEA,MASCkB,EANDC,YAAe,CAC3BT,QAAQ,aAAEhD,WAAU/C,EAASE,YAAcF,EAAS+F,SACpDU,WAAY,SAAAC,GAAoB,OAAIA,IAAuBC,OAAON,EAAkBrG,EAASyG,aAC7FG,UAAUC,ICoFGC,EA5FO,WAAM,MAEQC,mBAAS,IAFjB,mBAEjBC,EAFiB,KAEPC,EAFO,OAGUF,mBAAS,IAHnB,mBAGjBG,EAHiB,KAGNC,EAHM,OAIcJ,mBAAS,IAJvB,mBAIjBK,EAJiB,KAIJC,EAJI,OAMU/F,IANV,mBAMjBV,EANiB,KAQjBkE,GARiB,KAMJpC,UAEWG,aAAY,SAAAC,GAAK,OAAIA,EAAMC,WAAnD+B,sBACD/B,EAAUiD,EAAUO,EAAMe,YAoChC,OACI,uBAAMxF,UAAU,+BAA+ByF,SAnC3B,SAACC,GACrBA,EAAEC,iBACF,IAAMC,EAAU,CACZtG,GAAIuG,cACJjG,KAAMsF,EACNrF,YAAauF,EACbtF,QAASwF,GAGbxG,EAAW8G,GAASE,SAGpBX,EAAY,IACZE,EAAa,IACbE,EAAe,KAqBf,UACI,sBAAKvF,UAAU,OAAf,UACI,uBAAO+F,QAAQ,OAAO/F,UAAU,kBAAhC,oGACA,uBACIgG,UAAQ,EACR3F,KAAK,OACLT,KAAK,OACLI,UAAU,eACVV,GAAG,OACH2G,YAAY,8EACZC,MAAOhB,EACPiB,SAAU,SAACT,GAAD,OAAOP,EAAYO,EAAEU,OAAOF,aAG9C,sBAAKlG,UAAU,OAAf,UACI,uBAAO+F,QAAQ,OAAO/F,UAAU,kBAAhC,8DACA,0BACIgG,UAAQ,EACRpG,KAAK,OACLI,UAAU,eACVV,GAAG,OACH2G,YAAY,sDACZ9F,MAAO,CAAC,OAAU,SAClB+F,MAAOd,EACPe,SAAU,SAACT,GAAD,OAAOL,EAAaK,EAAEU,OAAOF,aAG/C,sBAAKlG,UAAU,OAAf,UACI,uBAAO+F,QAAQ,UAAU/F,UAAU,aAAnC,kIACA,yBACIgG,UAAQ,EACRhG,UAAU,cACVV,GAAG,UACHM,KAAK,UACLsG,MAAOZ,EACPa,SAAU,SAACT,GAAD,OAAOH,EAAeG,EAAEU,OAAOF,QAN7C,UAOI,wBAAQA,MAAM,GAAd,mHAtDM,SAACjF,EAASyB,GAC5B,MAAe,YAAXA,EACO,6IACW,UAAXA,EACA,2HAIPzB,GAAWA,EAAQS,OAAS,EACrBT,EAAQa,KAAI,YAAoB,IAAlBlC,EAAiB,EAAjBA,KAAMyG,EAAW,EAAXA,MACvB,GAAa,QAATzG,EAEJ,OAAO,wBAAmBsG,MAAOtG,EAA1B,SAAiCyG,GAApBzG,WAJ5B,EA+Ca0G,CAAcrF,EAAS+B,SAIhC,wBAAQ3C,KAAK,SAASL,UAAU,kBAAhC,4D,iBC/BGuG,EAtDO,WAAO,IAAD,EAEqBxF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,WAAjE+B,EAFiB,EAEjBA,qBAAsBlC,EAFL,EAEKA,aACvBG,EAAUiD,EAAUO,EAAMe,YAC1BgB,EAAWC,cACVtE,EAAWD,IAAXC,QAQP,GALAuE,qBAAU,WACNF,EAASvD,EAAad,MAEvB,IAE0B,YAAzBa,EACA,OAAO,cAAC,EAAD,IACJ,GAA6B,UAAzBA,EACP,OAAO,oBAAIhD,UAAU,mBAAd,mGAGX,IAAuBwB,EAqBjBC,EApBiB,KADAD,EAqBQP,GApBnBS,OACG,oBAAI1B,UAAU,mBAAd,gHAGJwB,EAAIM,KAAI,YAA+B,IAA7BlC,EAA4B,EAA5BA,KAAMI,EAAsB,EAAtBA,UAAWqG,EAAW,EAAXA,MAGxBM,EAAW9E,IAAW,MAAO7B,EAAW,CAC1C,OAAUJ,IAASkB,IAGvB,OAAO,wBAEKxB,GAAIM,EACJI,UAAW2G,EACXvG,QAAS,kBAAMoG,EAASlD,EAAe1D,KAJ5C,SAKOyG,GAJGzG,MAUzB,OACI,qBAAKI,UAAU,sBAAf,SACI,sBAAKA,UAAU,YAAf,UACI,mBAAGA,UAAU,YAAb,+LACA,qBAAKA,UAAU,YAAf,SACKyB,UCpCNmF,G,MAfH,WAER,OACI,sBAAM5G,UAAU,MAAhB,SACI,sBAAKA,UAAU,UAAf,UACI,cAAC,EAAD,IACA,sBAAKA,UAAU,uBAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,c,MCLpB6G,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUtC,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJuC,SAASC,eAAe,W","file":"static/js/main.cfd6e826.chunk.js","sourcesContent":["import {createApi, fetchBaseQuery} from '@reduxjs/toolkit/query/react';\r\n\r\nexport const apiSlice = createApi({\r\n  reducerPath: 'api',\r\n  baseQuery: fetchBaseQuery({baseUrl: 'https://heroes-fake-api.herokuapp.com'}),\r\n  tagTypes: ['Heroes'],\r\n  endpoints: builder => ({\r\n    getHeroes: builder.query({\r\n      query: () => 'heroes',\r\n      providesTags: ['Heroes']\r\n    }),\r\n    createHero: builder.mutation({\r\n      query: hero => ({\r\n        url: '/heroes',\r\n        method: 'POST',\r\n        body: hero\r\n      }),\r\n      invalidatesTags: ['Heroes']\r\n    }),\r\n    deleteHero: builder.mutation({\r\n      query: id => ({\r\n        url: `/heroes/${id}`,\r\n        method: 'DELETE'\r\n      }),\r\n      invalidatesTags: ['Heroes']\r\n    })\r\n  })\r\n});\r\n\r\n//Экспорт хука\r\nexport const {useGetHeroesQuery, useCreateHeroMutation, useDeleteHeroMutation} = apiSlice; \r\n\r\n\r\n","import heroImg from '../../assets/hero_img.jpg';\n\nconst HeroesListItem = ({name, description, element, onDelete}) => {\n\n    let elementClassName;\n\n    switch (element) {\n        case 'fire':\n            elementClassName = 'bg-danger bg-gradient';\n            break;\n        case 'water':\n            elementClassName = 'bg-primary bg-gradient';\n            break;\n        case 'wind':\n            elementClassName = 'bg-success bg-gradient';\n            break;\n        case 'earth':\n            elementClassName = 'bg-secondary bg-gradient';\n            break;\n        default:\n            elementClassName = 'bg-warning bg-gradient';\n    }\n\n    return (\n        <li \n            className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}>\n            <img src={heroImg} \n                 className=\"img-fluid w-25 d-inline\" \n                 alt=\"unknown hero\" \n                 style={{'objectFit': 'cover'}}/>\n            <div className=\"card-body\">\n                \n                <h3 className=\"card-title\">{name}</h3>\n                <p className=\"card-text\">{description}</p>\n            </div>\n            <span onClick={onDelete} \n                className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\">\n                <button type=\"button\" className=\"btn-close btn-close\" aria-label=\"Close\"></button>\n            </span>\n        </li>\n    )\n}\n\nexport default HeroesListItem;","export default \"data:image/jpeg;base64,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\"","const Spinner = () => {\n    return (\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </div>\n    )\n}\n\nexport default Spinner;","import { useCallback, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { CSSTransition, TransitionGroup} from 'react-transition-group';\n\nimport { useGetHeroesQuery, useDeleteHeroMutation } from '../../api/apiSlice';\n\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from '../spinner/Spinner';\n\nimport './heroesList.scss';\n\nconst HeroesList = () => {\n    const {\n        data: heroes = [],\n        isLoading,\n        isError,\n    } = useGetHeroesQuery();\n\n    const [deleteHero] = useDeleteHeroMutation();\n\n    const activeFilter = useSelector(state => state.filters.activeFilter);\n\n    const filteredHeroes = useMemo(() => {\n        const filteredHeroes = heroes.slice();\n\n        if (activeFilter === 'all') {\n            return filteredHeroes;\n        } else {\n            return filteredHeroes.filter(item => item.element === activeFilter);\n        }\n    }, [heroes, activeFilter]);\n\n    const onDelete = useCallback((id) => {\n        // Удаление персонажа по его id\n        deleteHero(id);\n        // eslint-disable-next-line  \n    }, []);\n\n    if (isLoading) {\n        return <Spinner/>;\n    } else if (isError) {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    }\n\n    const renderHeroesList = (arr) => {\n        if (arr.length === 0) {\n            return (\n                <CSSTransition\n                    timeout={0}\n                    classNames=\"hero\">\n                    <h5 className=\"text-center mt-5\">Героев пока нет</h5>\n                </CSSTransition>\n            )\n        }\n\n        return arr.map(({id, ...props}) => {\n            return (\n                <CSSTransition \n                    key={id}\n                    timeout={500}\n                    classNames=\"hero\">\n                    <HeroesListItem  {...props} onDelete={() => onDelete(id)}/>\n                </CSSTransition>\n            )\n        })\n    }\n\n    const elements = renderHeroesList(filteredHeroes);\n    return (\n        <TransitionGroup component=\"ul\">\n            {elements}\n        </TransitionGroup>\n    )\n}\n\nexport default HeroesList;","export const useHttp = () => {\n    const request = async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json'}) => {\n        try {\n            const response = await fetch(url, {method, body, headers});\n\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, status: ${response.status}`);\n            }\n\n            const data = await response.json();\n\n            return data;\n        } catch(e) {\n            throw e;\n        }\n    };\n\n    return {request}\n}","import { createSlice, createAsyncThunk, createEntityAdapter } from \"@reduxjs/toolkit\";\r\nimport {useHttp} from '../../hooks/http.hook';\r\n\r\nconst filtersAdapter = createEntityAdapter();\r\n\r\nconst initialState = filtersAdapter.getInitialState({\r\n  filtersLoadingStatus: 'idle',\r\n  activeFilter: 'all'\r\n});\r\n\r\nexport const fetchFilters = createAsyncThunk(\r\n  'filters/fetchFilters',\r\n  () => {\r\n    const {request} = useHttp();\r\n    return request(\"https://heroes-fake-api.herokuapp.com/filters\");\r\n  }\r\n);\r\n\r\nconst filtersSlice = createSlice({\r\n  name: 'filters',\r\n  initialState,\r\n  reducers: {\r\n    filtersChanged: (state, action) => {\r\n      state.activeFilter = action.payload;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchFilters.pending, state => {state.filtersLoadingStatus = 'loading'})\r\n      .addCase(fetchFilters.fulfilled, (state, action) => {\r\n        state.filtersLoadingStatus = 'idle';\r\n        filtersAdapter.setAll(state, action.payload);\r\n      })\r\n      .addCase(fetchFilters.rejected, state => {\r\n        state.filtersLoadingStatus = 'error';\r\n      })\r\n      .addDefaultCase(() => {})\r\n  }\r\n});\r\n\r\nconst {actions, reducer} = filtersSlice;\r\n\r\nexport default reducer;\r\n\r\nexport const {selectAll} = filtersAdapter.getSelectors(state => state.filters);\r\n\r\nexport const {\r\n  filtersFetching,\r\n  filtersFetched,\r\n  filtersFetchingError,\r\n  filtersChanged\r\n} = actions;","import { configureStore } from '@reduxjs/toolkit';\nimport filters from '../components/heroesFilters/filtersSlice';\nimport { apiSlice } from '../api/apiSlice';\n\nconst stringMiddleware = () => (next) => (action) => {\n  if (typeof action === 'string') {\n    return next ({\n      type: action\n    })\n  }\n  return next(action)\n}\n\nconst store = configureStore({\n  reducer: {filters, [apiSlice.reducerPath]: apiSlice.reducer},\n  middleware: getDefaultMiddleware => getDefaultMiddleware().concat(stringMiddleware, apiSlice.middleware),\n  devTools: process.env.NODE_ENV !== 'production',\n})\n\nexport default store; ","import { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\nimport store from '../../store';\n\nimport { selectAll } from '../heroesFilters/filtersSlice';\nimport { useCreateHeroMutation } from '../../api/apiSlice';\n\nconst HeroesAddForm = () => {\n    // Состояния для контроля формы\n    const [heroName, setHeroName] = useState('');\n    const [heroDescr, setHeroDescr] = useState('');\n    const [heroElement, setHeroElement] = useState('');\n\n    const [createHero, {isLoading}] = useCreateHeroMutation();\n\n    const {filtersLoadingStatus} = useSelector(state => state.filters);\n    const filters = selectAll(store.getState());\n\n    const onSubmitHandler = (e) => {\n        e.preventDefault();\n        const newHero = {\n            id: uuidv4(),\n            name: heroName,\n            description: heroDescr,\n            element: heroElement\n        }\n\n        createHero(newHero).unwrap();\n\n        // Очищаем форму после отправки\n        setHeroName('');\n        setHeroDescr('');\n        setHeroElement('');\n    }\n\n    const renderFilters = (filters, status) => {\n        if (status === \"loading\") {\n            return <option>Загрузка элементов</option>\n        } else if (status === \"error\") {\n            return <option>Ошибка загрузки</option>\n        }\n        \n        // Если фильтры есть, то рендерим их\n        if (filters && filters.length > 0 ) {\n            return filters.map(({name, label}) => {\n                if (name === 'all')  return;\n\n                return <option key={name} value={name}>{label}</option>\n            })\n        }\n    }\n    \n    return (\n        <form className=\"border p-4 shadow-lg rounded\" onSubmit={onSubmitHandler}>\n            <div className=\"mb-3\">\n                <label htmlFor=\"name\" className=\"form-label fs-4\">Имя нового героя</label>\n                <input \n                    required\n                    type=\"text\" \n                    name=\"name\" \n                    className=\"form-control\" \n                    id=\"name\" \n                    placeholder=\"Как меня зовут?\"\n                    value={heroName}\n                    onChange={(e) => setHeroName(e.target.value)}/>\n            </div>\n\n            <div className=\"mb-3\">\n                <label htmlFor=\"text\" className=\"form-label fs-4\">Описание</label>\n                <textarea\n                    required\n                    name=\"text\" \n                    className=\"form-control\" \n                    id=\"text\" \n                    placeholder=\"Что я умею?\"\n                    style={{\"height\": '130px'}}\n                    value={heroDescr}\n                    onChange={(e) => setHeroDescr(e.target.value)}/>\n            </div>\n\n            <div className=\"mb-3\">\n                <label htmlFor=\"element\" className=\"form-label\">Выбрать элемент героя</label>\n                <select \n                    required\n                    className=\"form-select\" \n                    id=\"element\" \n                    name=\"element\"\n                    value={heroElement}\n                    onChange={(e) => setHeroElement(e.target.value)}>\n                    <option value=\"\">Я владею элементом...</option>\n                    {renderFilters(filters, filtersLoadingStatus)}\n                </select>\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary\">Создать</button>\n        </form>\n    )\n}\n\nexport default HeroesAddForm;","import {useHttp} from '../../hooks/http.hook';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport store from '../../store';\n\nimport {filtersChanged, fetchFilters, selectAll} from './filtersSlice';\n\nimport Spinner from '../spinner/Spinner';\n\nconst HeroesFilters = () => {\n\n    const {filtersLoadingStatus, activeFilter} = useSelector(state => state.filters);\n    const filters = selectAll(store.getState());\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    // Запрос на сервер для получения фильтров и последовательной смены состояния\n    useEffect(() => {\n        dispatch(fetchFilters(request));\n        // eslint-disable-next-line\n    }, []);\n\n    if (filtersLoadingStatus === \"loading\") {\n        return <Spinner/>;\n    } else if (filtersLoadingStatus === \"error\") {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    }\n\n    const renderFilters = (arr) => {\n        if (arr.length === 0) {\n            return <h5 className=\"text-center mt-5\">Фильтры не найдены</h5>\n        }\n\n        return arr.map(({name, className, label}) => {\n\n            // Используем библиотеку classnames и формируем классы динамически\n            const btnClass = classNames('btn', className, {\n                'active': name === activeFilter\n            });\n            \n            return <button \n                        key={name} \n                        id={name} \n                        className={btnClass}\n                        onClick={() => dispatch(filtersChanged(name))}\n                        >{label}</button>\n        })\n    }\n\n    const elements = renderFilters(filters);\n\n    return (\n        <div className=\"card shadow-lg mt-4\">\n            <div className=\"card-body\">\n                <p className=\"card-text\">Отфильтруйте героев по элементам</p>\n                <div className=\"btn-group\">\n                    {elements}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HeroesFilters;","import HeroesList from '../heroesList/HeroesList';\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\n\nimport './app.scss';\n\nconst App = () => {\n    \n    return (\n        <main className=\"app\">\n            <div className=\"content\">\n                <HeroesList/>\n                <div className=\"content__interactive\">\n                    <HeroesAddForm/>\n                    <HeroesFilters/>\n                </div>\n            </div>\n        </main>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/App';\nimport store from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}